<body class="pt-5">
  <div
    class="scheda container pt-5 rounded"
    *ngIf="restaurants$ | async as restaurants; else loading"
  >
    <div class="row justify-content-center">
      <h1 class="text-center">Lista dei ristoranti</h1>

      <div
        class="col-12 col-sm-6 col-md-4 col-lg-4 py-3 d-flex justify-content-center"
        *ngFor="let restaurant of restaurants"
      >
        <div class="card" style="width: 18rem">
          <div class="my-img-cont">
            <img [src]="restaurant.logo" alt="Restaurant Logo" />
          </div>
          <div class="card-body">
            <h5 class="card-title fs-4 text-center">{{ restaurant.title }}</h5>
            <p>Indirizzo: {{ restaurant.address }}</p>
            <p>Telefono: {{ restaurant.telephone_contact }}</p>
            <p>Citta': {{ restaurant.city }}</p>
            <hr />
            <button
              class="btn btn-primary text-white"
              *ngIf="(currentUserType$ | async) === 'CUSTOMER'"
              (click)="navigateToReservation(restaurant.id)"
            >
              Prenota
            </button>
          </div>
        </div>
      </div>

      <ng-template #noRestaurants>
        <p>Nessun ristorante disponibile al momento.</p>
      </ng-template>
    </div>
  </div>
  <ng-template #loading>
    <p>Caricamento in corso...</p>
  </ng-template>
</body>
